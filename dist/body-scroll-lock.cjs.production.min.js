"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=!1;if("undefined"!=typeof window){var t={get passive(){e=!0}},o=function(){};window.addEventListener("testPassive",o,t),window.removeEventListener("testPassive",o,t)}var n,i,r="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),l=[],d=!1,c=-1,a=function(e){return l.some((function(t){return t.options.allowTouchMove&&t.options.allowTouchMove(e)}))},u=function(e){var t=e||window.event;return!!a(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},s=function(){void 0!==i&&(document.body.style.paddingRight=i,i=void 0),void 0!==n&&(document.body.style.overflow=n,n=void 0)};exports.clearAllBodyScrollLocks=function(){s(),r&&(l.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),d&&(document.removeEventListener("touchmove",u,e?{passive:!1}:void 0),d=!1),c=-1),l=[]},exports.disableBodyScroll=function(t,o){t?l.some((function(e){return e.targetElement===t}))||(l=[].concat(l,[{targetElement:t,options:o||{}}]),function(e){if(void 0===i){var t=window.innerWidth-document.documentElement.clientWidth;if(e&&!0===e.reserveScrollBarGap&&t>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);i=document.body.style.paddingRight,document.body.style.paddingRight=o+t+"px"}}void 0===n&&(n=document.body.style.overflow,document.body.style.overflow="hidden")}(o),r&&(t.ontouchstart=function(e){1===e.targetTouches.length&&(c=e.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&function(e,t){var o=e.targetTouches[0].clientY-c;!a(e.target)&&(t&&0===t.scrollTop&&o>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&o<0?u(e):e.stopPropagation())}(e,t)},d||(document.addEventListener("touchmove",u,e?{passive:!1}:void 0),d=!0))):console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},exports.enableBodyScroll=function(t){t?((l=l.filter((function(e){return e.targetElement!==t}))).length||s(),r&&(t.ontouchstart=null,t.ontouchmove=null,d&&0===l.length&&(document.removeEventListener("touchmove",u,e?{passive:!1}:void 0),d=!1))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")};
//# sourceMappingURL=body-scroll-lock.cjs.production.min.js.map
